<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Posts - Recetas Devops</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://www.recetasdevops.dev/post/">
  <meta property="og:site_name" content="Recetas Devops">
  <meta property="og:title" content="Posts">
  <meta property="og:description" content="Recetas DevOps - Blog de Alejandro García">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="alternate" type="application/rss+xml" href="/post/index.xml" title="Recetas Devops">

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/" title="Recetas Devops" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/logo.png">
				</div><div class="logo__item logo__text">
					<div class="logo__title">Recetas Devops</div>
					<div class="logo__tagline">Tus recetas para DevOps de confianza</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main list" role="main">
	<header class="main__header">
		<h1 class="main__title">Posts</h1>
	</header><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/borradostorageaccount/" rel="bookmark">
			He borrado por error un Storage Account de Azure en producción. ¿Y ahora que hago?
			</a>
		</h2>
		<div class="list__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2024-01-22T00:00:00&#43;01:00">January 22, 2024</time></div></div>
	</header>
	<div class="content list__excerpt post__content clearfix">
		Los errores ocurren, y de los creadores de los clásicos &ldquo;He borrado una base de datos en producción&rdquo; o &ldquo;No te olvides de poner el where en el delete from&rdquo;, ahora viene una nueva super producción llamada &ldquo;He borrado un storage account de Azure en producción&rdquo;.
En este artículo vamos a ver como podemos intentar recuperar ese storage account borrado. Recalco lo de INTENTAR, porque tal y como dicen en la documentación de Azure, Microsoft hará su best effort pero que la recuperación en ningún momento esta garantizada:
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/auditaazureconazqr/" rel="bookmark">
			Sigue las mejores prácticas y recomendaciones en Azure con Azure Quick Review
			</a>
		</h2>
		<div class="list__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2024-01-18T00:00:00&#43;01:00">January 18, 2024</time></div></div>
	</header>
	<div class="content list__excerpt post__content clearfix">
		Azure Quick Review (a partir de ahora azqr), es una herramienta en línea de comandos muy útil.
Esta herramienta, te permite de manera muy sencilla comprobar si tu infraestructura en Azure cumple con las mejores prácticas y recomendaciones.
Lo primero que vamos a hacer es instalarlo, en el caso de de Windows 10/11 deberíamos lanzar la siguiente línea en el terminal:
winget install azqr Una vez instalado, debemos autenticarnos. Tenemos 2 formas de hacerlo:
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/peroporquesehaborradoelcontainer/" rel="bookmark">
			¿Por qué se ha borrado el container del Storage Account, si tenía bloqueo?. Hablemos de Control Plane y Data Plane
			</a>
		</h2>
		<div class="list__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2024-01-14T00:00:00&#43;02:00">January 14, 2024</time></div></div>
	</header>
	<div class="content list__excerpt post__content clearfix">
		Hace unas semanas, hablando con un amigo, este me comentaba como en el trabajo se había realizado un cambio en un script que manipulaba storage accounts. La cuestión es que (no me preguntéis como ni porque jajaja), en ese script se metió una línea que borraba un container usando el comando de Powershell Remove-AzStorageContainer.
¿Y sabéis que paso? Pues sí, que el container se borró. Gracias a que estaba habilitado el soft delete del container, pues se recupero el container y el problema se resolvió.
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/comoenterarmecuandoretiranunserviciodeazure/" rel="bookmark">
			¿Cómo enterarme cuando retiran (deprecated) un servicio o funcionalidad en Azure?
			</a>
		</h2>
		<div class="list__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2024-01-12T00:00:00&#43;01:00">January 12, 2024</time></div></div>
	</header>
	<div class="content list__excerpt post__content clearfix">
		Cuando se trabaja en Azure, una de las tareas más importantes es enterarte cuando un servicio o funcionalidad de los servicios de los que usamos en producción es retirado de la circulación.
Para poder enterarnos de cuando esto pase, Microsoft proporciona varios métodos:
Envío de notificaciones por correo a los propietarios y administraciones de las suscripciones:
Creo que no hace falta que cuente en detalle, que suele pasar con los mails, y sobretodo cuando recibes muchos .
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/identitynotfoundroleassignment/" rel="bookmark">
			¿Por qué me aparece Identity not found en las asignaciones de roles?
			</a>
		</h2>
		<div class="list__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2024-01-09T00:00:00&#43;01:00">January 09, 2024</time></div></div>
	</header>
	<div class="content list__excerpt post__content clearfix">
		Espero no ser el único, en el que alguna vez le ha aparecido en el listado de control de Acceso (Access Control IAM), donde asignamos los roles, entradas de este tipo:
Este &ldquo;fenómeno&rdquo; ocurre por dos posibles causas tal y como dice la documentación de Microsoft (https://learn.microsoft.com/en-us/azure/role-based-access-control/troubleshooting):
Recientemente se ha invitado a un usuario, y al al crear una asignación de roles esta entidad de seguridad todavía está en el proceso de replicación entre regiones.
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/limitaraccesostorageblob/" rel="bookmark">
			Limitar el borrado de blobs en Azure Storage con permisos muy específicos usando RBAC y conditions
			</a>
		</h2>
		<div class="list__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2024-01-04T00:00:00&#43;02:00">January 04, 2024</time></div></div>
	</header>
	<div class="content list__excerpt post__content clearfix">
		Hace no mucho tiempo, necesitábamos crear un proceso que borrara ciertos blobs de unas rutas determinadas de unos storage accounts. Para ello creamos un rbac custom role que sólo permitiera listar los blobs y borrarlos.
Pero como a mí, y supongo que a más de uno como yo, cuando oye la palabra borrar pues le da un poco de &ldquo;miedito&rdquo; (jajaja). Y claro el permiso de borrar los blobs es para todo el storage account no sólo las carpeta que queremos borrar.
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/alertascostmanagement/" rel="bookmark">
			Cost Management - Controla el gasto en Azure con los presupuestos y alertas
			</a>
		</h2>
		<div class="list__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2024-01-02T00:00:00&#43;01:00">January 02, 2024</time></div></div>
	</header>
	<div class="content list__excerpt post__content clearfix">
		En esta primera entrada del blog del año, vamos a hablar de como podemos controlar el gasto en Azure.
Para ello vamos a hacer uso de Cost Management, creando un presupuesto (budget) y creando una alerta en base a ese presupuesto(budget).
Pero antes que nada, vamos a decir que es Cost Management y para que sirve. Si vamos a a las definiciones oficiales por parte de Microsoft, estas dicen:
Microsoft Cost Management es un conjunto de herramientas que ayudan a las organizaciones a supervisar, asignar y optimizar el costo de sus cargas de trabajo de Microsoft Cloud.
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/renombrarresourcegroups/" rel="bookmark">
			¿Se pueden renombrar los grupos de recursos en Azure?
			</a>
		</h2>
		<div class="list__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2023-12-27T19:15:04&#43;02:00">December 27, 2023</time></div></div>
	</header>
	<div class="content list__excerpt post__content clearfix">
		Una pregunta muy recurrente, que me han preguntado bastantes veces a lo largo del tiempo que llevo trabajando en Azure es la de ¿Se pueden renombrar los grupos de recursos de Azure?
Y la respuesta lamentablemente es NO, no se puede. Esta respuesta es extensible a cualquier recurso creado en Azure, desde el nombre de una máquina virtual, servidor de Azure SQL, nombre de una ip pública etc&hellip;
Hay otras cosas en Azure que pueden ser renombradas, pero que en realidad no son recursos como tal.
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/databricks-limpiar-cluster-logs/" rel="bookmark">
			Azure Databricks - Limpia los logs de los clusters y ahorra dinero
			</a>
		</h2>
		<div class="list__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2023-12-17T15:53:23&#43;01:00">December 17, 2023</time></div></div>
	</header>
	<div class="content list__excerpt post__content clearfix">
		En este artículo vamos a hablar de cómo podemos limpiar los logs de los clusters de Databricks.
Pero antes de entrar en detalles, vamos a contar la historia que hay detrás de este artículo:
Hace algún tiempo revisando los costes que teníamos en Azure Databricks, nos encontramos qué el coste de los Storage Accounts que usamos en Databricks era bastante alto.
Siempre achacábamos este alto coste al precio de las operaciones en los storage accounts.
	</div>
</article>
</main>

<div class="pagination">
	<a class="pagination__item pagination__item--prev btn" href="/post/">«</a>
	<span class="pagination__item pagination__item--current">2/2</span>
</div>

			</div>
			
<aside class="sidebar"><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://google.com/search">
		<input class="widget-search__field" type="search" placeholder="Search…" value="" name="q" aria-label="Search…">
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="https://www.recetasdevops.dev/">
	</form>
</div>
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/post/certificados01crearnuevocertificado/">Hablemos de Certificados TLS/SSL - Crear un nuevo certificado a través de un CSR</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/appinsightscertexpiration/">Generar alertas cuando un certificado caduca usando Application Insights</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/appservicerecover/">Cómo recuperar un App Service borrado</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/recoveryservicevaultotraregion/">¿Puedo crear un recovery service vault o Backup Vault en la paired region en vez de en la misma región donde tengo mis recursos que voy a proteger?</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/charlabackupsglozalazure2024/">Global Azure 2024 Spain - Charla Backups en Azure - Manual de superviviencia</a></li>
		</ul>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 Recetas Devops.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>