<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Global Azure 2024 Spain - Charla Backups en Azure - Manual de superviviencia - Recetas Devops</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://www.recetasdevops.dev/post/charlabackupsglozalazure2024/">
  <meta property="og:site_name" content="Recetas Devops">
  <meta property="og:title" content="Global Azure 2024 Spain - Charla Backups en Azure - Manual de superviviencia">
  <meta property="og:description" content="Azure Databricks No se puede recuperar directamente un Azure Databricks workspace, pero sí se puede abrir un ticket de soporte tal y como se indica en el siguiente enlace:
https://learn.microsoft.com/en-us/answers/questions/631201/recovery-of-databricks-in-azure
App Services A través del portal de Azure, no podemos recuperar un App Service. En cambio a través de Powershell, como podemos ver en este enlace:
https://learn.microsoft.com/en-us/azure/app-service/app-service-undelete
Como limitaciones, no podemos recuperar Azure Functions de Consumption o Elastic Premium Plan. Tampoco podemos recuperar apps en App Service Environment.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-04-13T00:00:00+02:00">
    <meta property="article:modified_time" content="2024-04-13T00:00:00+02:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/" title="Recetas Devops" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/logo.png">
				</div><div class="logo__item logo__text">
					<div class="logo__title">Recetas Devops</div>
					<div class="logo__tagline">Tus recetas para DevOps de confianza</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Global Azure 2024 Spain - Charla Backups en Azure - Manual de superviviencia</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2024-04-13T00:00:00&#43;02:00">April 13, 2024</time></div></div>
		</header>
		<div class="content post__content clearfix">
			<h2 id="azure-databricks">Azure Databricks</h2>
<p>No se puede recuperar directamente un Azure Databricks workspace, pero sí se puede abrir un ticket de soporte tal y como se indica en el siguiente enlace:</p>
<p><a href="https://learn.microsoft.com/en-us/answers/questions/631201/recovery-of-databricks-in-azure">https://learn.microsoft.com/en-us/answers/questions/631201/recovery-of-databricks-in-azure</a></p>
<h2 id="app-services">App Services</h2>
<p>A través del portal de Azure, no podemos recuperar un App Service. En cambio a través de Powershell, como podemos ver en este enlace:</p>
<p><a href="https://learn.microsoft.com/en-us/azure/app-service/app-service-undelete">https://learn.microsoft.com/en-us/azure/app-service/app-service-undelete</a></p>
<p>Como limitaciones, no podemos recuperar Azure Functions de Consumption o Elastic Premium Plan. Tampoco podemos recuperar apps en App Service Environment.</p>
<p>Disponemos de 30 días desde el día que eliminamos la app, para poder recuperar una App Service.</p>
<h2 id="azure-key-vault">Azure Key Vault</h2>
<p>Para poder recuperar un Azure Key Vault, secretos, keys y certificados debemos de habilitar <strong>Soft Delete</strong>.</p>
<p>En el siguiente enlace puedes encontrar toda la información:</p>
<p><a href="https://learn.microsoft.com/en-us/azure/key-vault/general/key-vault-recovery?tabs=azure-portal">https://learn.microsoft.com/en-us/azure/key-vault/general/key-vault-recovery?tabs=azure-portal</a></p>
<h2 id="azure-sql-server">Azure SQL Server</h2>
<h3 id="servidor-de-azure-sql">Servidor de Azure SQL</h3>
<p>En el caso de eliminar toda la instancia de Azure SQL Server, eliminaríamos todas sus bases de datos.</p>
<p>No podemos recuperar directamente una instancia entera, sino que debemos abrir ticket de soporte. Microsoft hará todo lo posible por recuperar el servidor entero, pero no promete que pueda hacerlo.</p>
<p>En el siguiente enlace de Stackoverflow (<a href="https://www.recetasdevops.dev/post/charlabackupsglozalazure2024)">https://www.recetasdevops.dev/post/charlabackupsglozalazure2024)</a>, podemos ver como algunos usuarios comentan lo siguiente:</p>
<p><strong>&ldquo;Microsoft podrá recuperar un servidor bajo las siguientes condiciones:</strong></p>
<ol>
<li><strong>No se creó otro SQL Server con el mismo nombre</strong>.</li>
<li><strong>Han pasado menos de 7 días desde la eliminación.</strong></li>
<li><strong>Se debe conocer la región, el servidor SQL y el nombre del grupo de recursos.&rdquo;</strong></li>
</ol>
<p>En el siguiente enlace también comentan lo mismo:</p>
<p><a href="https://stackoverflow.com/questions/59452462/how-to-restore-azure-sql-server">https://stackoverflow.com/questions/59452462/how-to-restore-azure-sql-server</a></p>
<p>De cualquier manera, lo mejor es contactar con Microsoft y que nos faciliten esa información.</p>
<h2 id="cosmosdb">CosmosDB</h2>
<p>CosmosDB tiene 2 tipos de backups que pueden ser configurados:</p>
<ul>
<li>Periódico: <a href="https://learn.microsoft.com/en-us/azure/cosmos-db/periodic-backup-restore-introduction">https://learn.microsoft.com/en-us/azure/cosmos-db/periodic-backup-restore-introduction</a></li>
<li>Continuo: <a href="https://learn.microsoft.com/en-us/azure/cosmos-db/continuous-backup-restore-introduction">https://learn.microsoft.com/en-us/azure/cosmos-db/continuous-backup-restore-introduction</a></li>
</ul>
<p>En el modo periódico, por defecto se hace full backup cada 4 horas (aunque es ampliable), y almacena los dos últimos backups, es decir las últimas 8 horas. Necesitas abrir ticket de soporte para poder restaurar con este tipo de backup.</p>
<p>En el caso del backup contínuo, este nos permite hacer restauración de tipo <strong>Point in time restore</strong>. Con Point in time restore podemos:</p>
<p>-Recuperarse de una operación de escritura o eliminación accidental dentro de un contenedor.<br>
-Restaurar una cuenta, base de datos o contenedor eliminados.<br>
-Restaurar en cualquier región (donde existieran copias de seguridad) en el momento de restauración.</p>
<p>Respecto a la duración de este tipo de backups, podemos configurarlo por 7 días o 30 días.</p>
<h2 id="storage-account">Storage Account</h2>
<h3 id="storage-account-1">Storage Account</h3>
<p>Para recuperar un Storage Account borrado, ver el siguiente post:</p>
<p><a href="https://www.recetasdevops.dev/post/borradostorageaccount/">https://www.recetasdevops.dev/post/borradostorageaccount/</a></p>
<p>Para más información sobre como recuperar un storage account, ver la documentación oficial en el siguiente enlace:</p>
<p><a href="https://learn.microsoft.com/en-us/azure/storage/common/storage-account-recover">https://learn.microsoft.com/en-us/azure/storage/common/storage-account-recover</a></p>
<h3 id="containers">Containers</h3>
<p>Para recuperar un container borrado, debemos previamente configurar Soft Delete. En el siguiente enlace podemos encontrar la información necesaria:</p>
<p><a href="https://learn.microsoft.com/en-us/azure/storage/blobs/soft-delete-container-overview">https://learn.microsoft.com/en-us/azure/storage/blobs/soft-delete-container-overview</a></p>
<p>Por lo visto, en caso de usar almacenamiento con redundancia geográfica podríamos recuperar un container abriendo un ticket de soporte. Usando redundacia local (LRS), no esta soportado. Para más información sobre este tipo de recuperación ver el siguiente enlace:</p>
<p><a href="https://learn.microsoft.com/es-es/troubleshoot/azure/azure-storage/blobs/recovery/data-protection-backup-recovery#scenario-3-container-recovery">https://learn.microsoft.com/es-es/troubleshoot/azure/azure-storage/blobs/recovery/data-protection-backup-recovery#scenario-3-container-recovery</a></p>
<h3 id="blobs">Blobs</h3>
<p>Para poder recuperar blobs borrados podemos usar <strong>Soft Delete</strong>. En el siguiente enlace podeís ver como configurarlo:</p>
<p><a href="https://learn.microsoft.com/en-us/azure/storage/blobs/soft-delete-blob-overview">https://learn.microsoft.com/en-us/azure/storage/blobs/soft-delete-blob-overview</a></p>
<p>Para ver opciones de backup de los blobs, visitar el siguiente enlace:</p>
<p><a href="https://learn.microsoft.com/en-us/azure/backup/blob-backup-overview?tabs=operational-backup">https://learn.microsoft.com/en-us/azure/backup/blob-backup-overview?tabs=operational-backup</a></p>

		</div>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Alejandro García avatar" src="/images/foto.jpg" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Alejandro García</span>
	</div>
	<div class="authorbox__description">
		Apasionado por la tecnología.
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/post/primerospasosconpulumi/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Primeros pasos con Pulumi en Azure usando C#</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/post/recoveryservicevaultotraregion/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">¿Puedo crear un recovery service vault o Backup Vault en la paired region en vez de en la misma región donde tengo mis recursos que voy a proteger?</p>
		</a>
	</div>
</nav>


			</div>
			<aside class="sidebar"><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://google.com/search">
		<input class="widget-search__field" type="search" placeholder="Search…" value="" name="q" aria-label="Search…">
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="https://www.recetasdevops.dev/">
	</form>
</div>
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/post/lanzarcomandosazurevms/">Lanzar comandos sin entrar a tus Máquinas virtuales de Azure usando Run Command</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/certificados02instalarcertificadoenappservice/">Hablemos de Certificados TLS/SSL - Instalar certificados en App Services usando Azure Key Vault</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/certificados01crearnuevocertificado/">Hablemos de Certificados TLS/SSL - Crear un nuevo certificado a través de un CSR</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/appinsightscertexpiration/">Generar alertas cuando un certificado caduca usando Application Insights</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/appservicerecover/">Cómo recuperar un App Service borrado</a></li>
		</ul>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 Recetas Devops.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>